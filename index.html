<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matrix + Flags + Quotes</title>
<style>
  html, body { margin:0; padding:0; height:100%; background:#000; overflow:hidden; font-family: monospace; }
  canvas { display:block; position:fixed; top:0; left:0; z-index:0; }

  .center { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index:10; text-align:center; pointer-events:none; }
  .mainLine { color:#00ff55; font-size:4vw; letter-spacing:2px; text-shadow:0 0 26px rgba(0,255,120,0.12),0 0 6px rgba(0,255,120,0.25); }
  .subLine { color:rgba(170,255,190,0.9); font-size:2vw; margin-top:10px; }

  .flag-overlay {
    position:fixed; inset:0; z-index:20; display:flex; align-items:center; justify-content:center;
    opacity:0; pointer-events:none; transition:opacity 0.3s ease;
  }
  .flag-overlay.visible { opacity:1; pointer-events:auto; }

  .flag-box { width:min(64vmin,520px); aspect-ratio:3/2; border-radius:8px; overflow:hidden; box-shadow:0 12px 40px rgba(0,0,0,0.7); }
  .pal .stripes { width:100%; height:100%; background:linear-gradient(#000 0 33.333%, #fff 33.333% 66.666%, #007a3d 66.666% 100%); position:relative; }
  .pal .triangle { position:absolute; left:0; top:0; bottom:0; width:45%; clip-path:polygon(0 50%,45% 0,45% 100%); background:#ce1126; }

  .egy .stripes { width:100%; height:100%; background:linear-gradient(#ce1126 0 33.333%, #fff 33.333% 66.666%, #000 66.666% 100%); position:relative; }
  .egy .egy-emblem { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); font-size:44px; color:#b38a00; text-shadow:0 2px 6px rgba(0,0,0,0.6); }

  .hint { position:fixed; bottom:12px; left:12px; z-index:30; color:rgba(255,255,255,0.65); background:rgba(0,0,0,0.18); padding:8px 10px; border-radius:8px; font-size:13px; }
</style>
</head>
<body>
<canvas id="c"></canvas>

<div class="center">
  <div id="mainLine" class="mainLine">We are Anonymous</div>
  <div id="subLine" class="subLine">Welcome to Hell</div>
</div>

<div class="hint">Press P = Palestine Â· Press E = Egypt</div>

<div id="flagPal" class="flag-overlay"><div class="flag-box pal"><div class="stripes"></div><div class="triangle"></div></div></div>
<div id="flagEgy" class="flag-overlay"><div class="flag-box egy"><div class="stripes"></div><div class="egy-emblem">ð“‚€</div></div></div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let fontSize, columns, drops = [];

function resizeCanvas() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  fontSize = Math.max(9, Math.floor(canvas.width / 90));
  columns = Math.floor(canvas.width / fontSize);
  drops = new Array(columns).fill().map(_ => ({y: Math.random() * -1000, speed: 1 + Math.random()*2.2, len: 8 + Math.floor(Math.random()*22)}));
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

const letters = ("ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@#$%&*").split('');
let speedFactor = 2.8;

function draw() {
  ctx.fillStyle = 'rgba(0,0,0,0.06)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  ctx.font = fontSize + "px monospace";
  ctx.textBaseline = 'top';
  for(let i=0;i<drops.length;i++){
    const d = drops[i];
    const lead = Math.random() > 0.98;
    for(let t=0;t<Math.min(6,d.len);t++){
      const ch = letters[Math.floor(Math.random()*letters.length)];
      const y = Math.floor(d.y - t*fontSize*0.9);
      const alpha = lead ? Math.max(0.18, 0.95 - t*0.12) : Math.max(0.06, 0.55 - t*0.08);
      ctx.fillStyle = `rgba(0,255,85,${alpha})`;
      ctx.fillText(ch, d.x, y);
    }
    d.y += d.speed*speedFactor*(0.75 + Math.sin(d.y*0.01)*0.12);
    if(d.y - d.len*fontSize > canvas.height && Math.random() > 0.96){
      d.y = -Math.random()*400;
      d.speed = 0.6 + Math.random()*2.8;
    }
  }
  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);

// Flags & Quotes
const flagPal = document.getElementById('flagPal');
const flagEgy = document.getElementById('flagEgy');
let paused = false, quoteInterval;

function pauseQuotes(){ paused=true; clearInterval(quoteInterval); }
function resumeQuotes(){ paused=false; startQuotes(); }

const mainLine = document.getElementById('mainLine');
const subLine = document.getElementById('subLine');
const quotes = ["We are Anonymous","Welcome to Hell"];
let qIdx=0;

function setQuote(t){
  mainLine.textContent = t;
}
function startQuotes(){
  setQuote(quotes[qIdx]);
  quoteInterval = setInterval(()=>{
    if(!paused){ qIdx = (qIdx+1)%quotes.length; setQuote(quotes[qIdx]); }
  },7000);
}
startQuotes();

function showFlag(flagEl){
  pauseQuotes();
  flagEl.classList.add('visible');
  setTimeout(()=>{
    flagEl.classList.remove('visible');
    resumeQuotes();
  },7000);
}

window.addEventListener('keydown', (e)=>{
  const k = e.key.toLowerCase();
  if(k==='p'){ showFlag(flagPal); }
  if(k==='e'){ showFlag(flagEgy); }
  if(k==='arrowup'){ speedFactor = Math.min(8,speedFactor+0.4); }
  if(k==='arrowdown'){ speedFactor = Math.max(0.6,speedFactor-0.4); }
});
</script>
</body>
</html>
